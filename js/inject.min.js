var LDO={init:function(){var e=document.createElement("iframe");e.setAttribute("id","ldo_iframe");var t=document.getElementById("ldo_popup");if(void 0==t){var t=document.createElement("div");t.setAttribute("name","lookup_definitions_online_container"),t.setAttribute("id","ldo_popup"),t.setAttribute("title","Click and drag to move");var i=.1*window.innerHeight+"px",n=.1*window.innerWidth+"px",o=.8*window.innerHeight+"px",d=.8*window.innerWidth+"px",l="height:"+o+";left:"+n+";width:"+d+";top:"+i+";background-image:url(http://cdn.sstatic.net/Img/mini-hero-bg.png);padding-top:24px;cursor:move;z-index:16777270;position:fixed;";t.setAttribute("style",l)}else t.innerHTML="";var p=document.createElement("div");p.innerHTML="X",p.setAttribute("id","__close_lookup");var r=$.parseJSON(a),c=r[0],u=r[1],s=r[2],m=document.createElement("select");m.setAttribute("id","dics_listbox");for(var f=0;f<s.length;f++)if("UrbanDict"!=s[f].func&&"Definition"!=s[f].func&&""!=s[f].func){var g=document.createElement("option");g.value=s[f].url+u,g.text=s[f].title,g.value==c&&g.setAttribute("selected","selected"),m.appendChild(g)}t.appendChild(e),t.appendChild(p),t.appendChild(m),document.body.appendChild(t),e.contentDocument.write("<html><body><div style='width:100%; color: gray; text-align: center; line-height: 100%;'><i style='padding-top: 100px;display: block;'>loading...</i></div></body></html>"),e.setAttribute("src",c),$("#ldo_popup").fadeIn("1600"),LDO.attachHandlers(e)},attachHandlers:function(e){LDO.makeDraggable(),$(document).keyup(function(e){27==e.keyCode&&LDO.close()}),$("#__close_lookup").click(function(){LDO.close()}),$("#dics_listbox").change(function(){LDO.updatePopup(this,e)})},close:function(){$("#ldo_popup").fadeOut("600",function(){$("#ldo_popup").remove()})},makeDraggable:function(){$("#ldo_popup").draggable({iframeFix:!0,drag:function(e,t){var i=3,n=t.position.top*i,o=t.position.left*i;$(t).css({top:n+"px;",left:o+"px;"})}})},updatePopup:function(e,t){""!=e.value&&t.setAttribute("src",e.value)}};LDO.init();
